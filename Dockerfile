# ==========================================================
#      Инструкция по сборке контейнера для Proxy-Fountain
# ==========================================================

# 1. Берем за основу официальный легковесный образ Python 3.11
FROM python:3.11-slim

# 2. Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# 3. Копируем файл с зависимостями
COPY requirements.txt .

# 4. Устанавливаем зависимости
#    --no-cache-dir - не сохранять кэш, чтобы образ был меньше
#    --upgrade pip - обновляем pip до последней версии
RUN pip install --no-cache-dir --upgrade pip && \
    pip install --no-cache-dir -r requirements.txt

# 5. Копируем основной скрипт приложения
COPY proxy_fountain.py .

# 6. Указываем команду, которая будет запущена при старте контейнера
CMD [ "python", "proxy_fountain.py" ]